import t from"isomorphic-unfetch";function e(){return e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},e.apply(this,arguments)}class i{constructor(t){this.apikey=void 0,this.baseUrl=void 0,this.apikey=t.apiKey,this.baseUrl="https://staging.getourvoice.com/api/v1"}invoke(i,s){const r=`${this.baseUrl}${i}`,n=e({},s,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apikey}`}});return t(r,n).then(t=>{if(t.ok)return t.json();throw new Error(JSON.parse(t.statusText))})}}const s="campaigns";class r extends i{getCampaignById(t){return this.invoke(`/${s}/${t}`)}getCampaigns(){return this.invoke(`/${s}`,{method:"GET"})}createCampaign(t){return this.invoke(`/${s}`,{method:"POST",body:JSON.stringify(t)})}updateCampaign(t,e){return this.invoke(`/${s}`,{method:"POST",body:JSON.stringify(e)})}deleteCampaign(t){return this.invoke(`/${s}/${t}`,{method:"DELETE"})}}const n="groups";class o extends i{getGroupById(t){return this.invoke(`/${n}/${t}`,{method:"GET"})}getGroups(){return this.invoke(`/${n}`,{method:"GET"})}createGroup(t){return this.invoke(`/${n}`,{method:"POST",body:JSON.stringify(t)})}deleteGroup(t){return this.invoke(`/${n}/${t}`,{method:"DELETE"})}updateGroup(t,e){return this.invoke(`/${n}/${t}`,{method:"PATCH",body:JSON.stringify(e)})}}const a="messages";class h extends i{getSmsById(t){return this.invoke(`/${a}/${t}`)}getSms(){return this.invoke(`/${a}`,{method:"GET"})}sendSms(t){return this.invoke(`/${a}`,{method:"POST",body:JSON.stringify(t)})}deleteSms(t){return this.invoke(`/${a}/${t}`,{method:"DELETE"})}}class d{constructor(t){this.groups=void 0,this.sms=void 0,this.campaign=void 0,this.groups=new o(t),this.sms=new h(t),this.campaign=new r(t)}}export{d as Library};
