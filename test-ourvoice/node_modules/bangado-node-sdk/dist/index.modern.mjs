import t from"isomorphic-unfetch";function e(){return e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},e.apply(this,arguments)}class s{constructor(t){this.apikey=void 0,this.baseUrl=void 0,this.apikey=t.apiKey,this.baseUrl="https://staging.getourvoice.com/api/v1"}invoke(s,r){const o=`${this.baseUrl}${s}`,i=e({},r,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apikey}`}});return t(o,i).then(t=>{if(t.ok)return t.json();throw new Error(t.statusText)})}}const r="groups";class o extends s{getGroupById(t){return this.invoke(`/${r}/${t}`)}getGroups(){return this.invoke(`/${r}`,{method:"GET"})}createGroup(t){return this.invoke(`/${r}`,{method:"POST",body:JSON.stringify(t)})}deleteGroup(t){return this.invoke(`/${r}/${t}`,{method:"DELETE"})}updateGroup(t,e){return this.invoke(`/${r}/${t}`,{method:"PATCH",body:JSON.stringify(e)})}}const i="messages";class n extends s{getSmsById(t){return this.invoke(`/${i}/${t}`)}getSms(){return this.invoke(`/${i}`,{method:"GET"})}sendSms(t){return this.invoke(`/${i}`,{method:"POST",body:JSON.stringify(t)})}}class h{constructor(t){this.groups=void 0,this.sms=void 0,this.groups=new o(t),this.sms=new n(t)}}export{h as Library};
